<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fry's 100 Sight Words</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome for the speaker icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8; /* Light blue-gray background */
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <div id="app" class="bg-white rounded-3xl shadow-xl p-8 max-w-lg w-full text-center flex flex-col items-center justify-between">
        <h1 class="text-3xl font-bold text-gray-800 mb-6">Fry's 100 Sight Words</h1>

        <!-- The word display area -->
        <div class="flex-grow flex items-center justify-center w-full">
            <div id="wordDisplay" class="text-6xl sm:text-7xl font-extrabold text-blue-600 mb-8 tracking-wide">
                <!-- Word will be inserted here -->
            </div>
        </div>

        <!-- The controls -->
        <div class="flex flex-col sm:flex-row items-center justify-center w-full space-y-4 sm:space-y-0 sm:space-x-4 mt-8">
            <!-- New button to go back to the previous word -->
            <button id="previousButton" class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105">
                Previous Word
            </button>

            <button id="listenButton" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105">
                <i class="fas fa-volume-up mr-2"></i> Listen
            </button>
            <button id="nextButton" class="bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105">
                Next Word
            </button>
        </div>
    </div>

    <script>
        // Array of Fry's first 100 sight words
        const words = [
            "the", "of", "and", "a", "to", "in", "is", "you", "that", "it",
            "he", "was", "for", "on", "are", "as", "with", "his", "they", "I",
            "at", "be", "this", "have", "from",
            "red", "yellow", "orange", "pink", "blue", "play",
            "or", "one", "had", "by", "words", "but", "not", "what", "all", "where",
            "we", "when", "your", "can", "said", "there", "use", "an", "each",
            "which", "she", "do", "how", "their", "if"
        ];

        let currentIndex = 0;
        let shuffledWords = [...words];

        const wordDisplay = document.getElementById('wordDisplay');
        const nextButton = document.getElementById('nextButton');
        const listenButton = document.getElementById('listenButton');
        // New button for going back
        const previousButton = document.getElementById('previousButton');

        // Function to shuffle the words array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Function to display the current word
        function displayCurrentWord() {
            if (shuffledWords.length === 0) {
                // Shuffle again if we've gone through all the words
                shuffledWords = shuffleArray([...words]);
                currentIndex = 0;
            }
            wordDisplay.textContent = shuffledWords[currentIndex];
        }

        // Function to play the word's audio
        function playWord() {
            if ('speechSynthesis' in window) {
                const textToSpeak = wordDisplay.textContent;
                const utterance = new SpeechSynthesisUtterance(textToSpeak);
                utterance.lang = 'en-US';
                window.speechSynthesis.speak(utterance);
            } else {
                console.error("Web Speech API is not supported in this browser.");
            }
        }

        // Event listener for the "Next Word" button
        nextButton.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % shuffledWords.length;
            displayCurrentWord();
        });

        // Event listener for the "Previous Word" button
        previousButton.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + shuffledWords.length) % shuffledWords.length;
            displayCurrentWord();
        });

        // Event listener for the "Listen" button
        listenButton.addEventListener('click', playWord);

        // Initial setup on page load
        window.onload = () => {
            shuffledWords = shuffleArray(words);
            displayCurrentWord();
        };
    </script>
</body>
</html>
